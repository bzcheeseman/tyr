## Rust Bindings

The rust bindings are generated using the [rust bindgen](https://github.com/rust-lang/rust-bindgen) project.

You will need to create a `build.rs` file in order to use `cargo build`. An example is provided 
in `test/rust/build.rs`.

Note that the rust bindings will work best if you build and install `tyr` from source.
This is because there are some handwritten header files that you may want to include,
which bindgen needs to find. The autogenerated file for building the bindings is pre-configured
to use the `CMAKE_INSTALL_PREFIX` variable as the install base path. If that doesn't work, and you
don't want to re-install, you'll have to edit the autogenerated file to use the correct
path to the install location.

An interesting quirk of the rust bindings is that you have to have a static library otherwise
bindgen encounters linker errors. This means that the output from the `tyr` compiler can
be either an LLVM bitcode file (`.bc`) or an object file (`.o`). The only difference is if
you pass in the `-emit-llvm` flag or not. If you do pass this flag, you will be able to see
the generated code (great for debugging the compiler), and in order to use the rust
bindings, you'll have to call the `build_bindings_llvm` function, rather than the 
`build_bindings_object` function that would be created in the `build_<module>_bindings.rs` file.
An example is detailed in `tyr/test/rust/build.rs`.

